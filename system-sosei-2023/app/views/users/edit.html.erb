<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <title>プロフィール編集</title>
</head>
<body class="bg-gray-100">

<!-- Back Button -->
<div class="absolute top-0 left-0 p-4">
    <%= link_to '戻る', :back, class: "text-sm bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" %>
</div>

<!-- Right-Side Button and Icon Container -->
<div class="absolute top-0 right-0 p-4 flex items-center space-x-2">
    <!-- HOME Button -->
    <button class="text-white bg-red-500 hover:bg-red-600 focus:outline-none font-medium text-sm py-2 px-4 rounded" onclick="location.href='/';">
        <i class="fas fa-home mr-1"></i>
        <span>HOME</span>
    </button>
    
    <!-- Project List Button -->
    <button class="text-white bg-blue-500 hover:bg-blue-600 focus:outline-none font-medium text-sm py-2 px-4 rounded" onclick="location.href='/projects';">
        <span>プロジェクト一覧</span>
    </button>
</div>

<div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full bg-white p-6 rounded-lg shadow-md">
        <div>
            <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">
                プロフィールを編集する
            </h2>
        </div>
        <%= form_with(model: @user, url: user_path(@user), method: :patch) do |f| %>
            <% if f.object.errors.any? %>
                <div class="alert alert-danger">
                    <% f.object.errors.full_messages.each do |message|  %>
                        <div>
                            <%= message %>
                        </div>
                    <% end  %>
                </div>
            <% end %>
            <div class="rounded-md shadow-sm -space-y-px">
                <div>
                    <%= f.label :name, class: "sr-only" %>
                    <%= f.text_field :name, required: true, class: "appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm", placeholder: "ユーザー名" %>
                </div>
                <div>
                    <%= f.label :email, class: "sr-only" %>
                    <%= f.email_field :email, required: true, class: "appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm", placeholder: "メールアドレス" %>
                </div>
                <div>
                    <%= f.label :password, class: "sr-only" %>
                    <%= f.password_field :password, required: true, class: "appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm", placeholder: "新しいパスワード (変更する場合)" %>
                </div>
            </div>

            <div class="mt-6">
                <%= f.submit "更新", class: "group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" %>
            </div>
        <% end %>
    </div>
</div>

</body>
</html>
